<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-5QG29TGPBJ"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            
            gtag('config', 'G-5QG29TGPBJ');
            
        </script>
    <link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Beyond CozoScript" href="nonscript.html" /><link rel="prev" title="Aggregations" href="aggregations.html" />
        <link rel="canonical" href="/manual/algorithms.html" />

    <meta name="generator" content="sphinx-5.1.1, furo 2022.09.15"/>
        <title>Utilities and algorithms - CozoScript</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=9ec31e2665bf879c1d47d93a8ec4893870ee1e45" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">CozoScript</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">CozoScript</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="queries.html">Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="stored.html">Stored relations and transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="timetravel.html">Time travel</a></li>
<li class="toctree-l1"><a class="reference internal" href="sysops.html">System ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="datatypes.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">Query execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips for writing queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions and operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregations.html">Aggregations</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Utilities and algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="nonscript.html">Beyond CozoScript</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="utilities-and-algorithms">
<h1>Utilities and algorithms<a class="headerlink" href="#utilities-and-algorithms" title="Permalink to this heading">#</a></h1>
<p>Fixed rules in CozoScript apply utilities or algorithms.</p>
<p>The algorithms described here are only available if your distribution of Cozo is compiled with the <code class="docutils literal notranslate"><span class="pre">graph-algo</span></code> feature flag.
Currently all prebuilt binaries are compiled with this flag on.</p>
<p>Some algorithms make use of multiple threads to greatly improve running time if the <code class="docutils literal notranslate"><span class="pre">rayon</span></code> feature flag is on.
All prebuilt binaries except WASM have this flag on. As a result, and also because of other platform restrictions,
algorithms on WASM in general run much slower than on other platforms.</p>
<section id="utilities">
<h2>Utilities<a class="headerlink" href="#utilities" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Algo.Constant">
<span class="sig-name descname"><span class="pre">Constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.Constant" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a relation containing the data passed in. The constant rule <code class="docutils literal notranslate"><span class="pre">?[]</span> <span class="pre">&lt;-</span> <span class="pre">...</span></code> is
syntax sugar for <code class="docutils literal notranslate"><span class="pre">?[]</span> <span class="pre">&lt;~</span> <span class="pre">Constant(data:</span> <span class="pre">...)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> – A list of lists, representing the rows of the returned relation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.ReorderSort">
<span class="sig-name descname"><span class="pre">ReorderSort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">rel[...],</span> <span class="pre">out:</span> <span class="pre">[...],</span> <span class="pre">sort_by:</span> <span class="pre">[...],</span> <span class="pre">descending:</span> <span class="pre">false,</span> <span class="pre">break_ties:</span> <span class="pre">false,</span> <span class="pre">skip:</span> <span class="pre">0,</span> <span class="pre">take:</span> <span class="pre">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.ReorderSort" title="Permalink to this definition">#</a></dt>
<dd><p>Sort and then extract new columns of the passed in relation <code class="docutils literal notranslate"><span class="pre">rel</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out</strong> (<em>required</em>) – A list of expressions which will be used to produce the output relation. Any bindings in the expressions will be bound to the named positions in <code class="docutils literal notranslate"><span class="pre">rel</span></code>.</p></li>
<li><p><strong>sort_by</strong> – A list of expressions which will be used to produce the sort keys. Any bindings in the expressions  will be bound to the named positions in <code class="docutils literal notranslate"><span class="pre">rel</span></code>.</p></li>
<li><p><strong>descending</strong> – Whether the sorting process should be done in descending order. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>break_ties</strong> – Whether ties should be broken, e.g. whether the first two rows with <em>identical sort keys</em> should be given ordering numbers <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">2</span></code> instead of <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code>. Defaults to false.</p></li>
<li><p><strong>skip</strong> – How many rows to skip before producing rows. Defaults to zero.</p></li>
<li><p><strong>take</strong> – How many rows at most to produce. Zero means no limit. Defaults to zero.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The returned relation, in addition to the rows specified in the parameter <code class="docutils literal notranslate"><span class="pre">out</span></code>, will have the ordering prepended. The ordering starts at <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This algorithm serves a similar purpose to the global <code class="docutils literal notranslate"><span class="pre">:order</span></code>, <code class="docutils literal notranslate"><span class="pre">:limit</span></code> and <code class="docutils literal notranslate"><span class="pre">:offset</span></code> options, but can be applied to intermediate results. Prefer the global options if it is applied to the final output.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.CsvReader">
<span class="sig-name descname"><span class="pre">CsvReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="p"><span class="pre">...</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delimiter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">','</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepend_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">false</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">true</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.CsvReader" title="Permalink to this definition">#</a></dt>
<dd><p>Read a CSV file from disk or an HTTP GET request and convert the result to a relation.</p>
<p>This utility is not available on WASM targets. In addition, if the feature flag <code class="docutils literal notranslate"><span class="pre">requests</span></code> is off,
only reading from local file is supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>required</em>) – URL for the CSV file. For local file, use <code class="docutils literal notranslate"><span class="pre">file://&lt;PATH_TO_FILE&gt;</span></code>.</p></li>
<li><p><strong>types</strong> (<em>required</em>) – A list of strings interpreted as types for the columns of the output relation. If any type is specified as nullable and conversion to the specified type fails, <code class="docutils literal notranslate"><span class="pre">null</span></code> will be the result. This is more lenient than other functions since CSVs tend to contain lots of bad values.</p></li>
<li><p><strong>delimiter</strong> – The delimiter to use when parsing the CSV file.</p></li>
<li><p><strong>prepend_index</strong> – If <code class="docutils literal notranslate"><span class="pre">true</span></code>, row index will be prepended to the columns.</p></li>
<li><p><strong>has_headers</strong> – Whether the CSV file has headers. The reader will not interpret the header in any way but will instead simply ignore it.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.JsonReader">
<span class="sig-name descname"><span class="pre">JsonReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="p"><span class="pre">...</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_lines</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">null_if_absent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">false</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepend_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">false</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.JsonReader" title="Permalink to this definition">#</a></dt>
<dd><p>Read a JSON file for disk or an HTTP GET request and convert the result to a relation.</p>
<p>This utility is not available on WASM targets. In addition, if the feature flag <code class="docutils literal notranslate"><span class="pre">requests</span></code> is off,
only reading from local file is supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>required</em>) – URL for the JSON file. For local file, use <code class="docutils literal notranslate"><span class="pre">file://&lt;PATH_TO_FILE&gt;</span></code>.</p></li>
<li><p><strong>fields</strong> (<em>required</em>) – A list of field names, for extracting fields from JSON arrays into the relation.</p></li>
<li><p><strong>json_lines</strong> – If <code class="docutils literal notranslate"><span class="pre">true</span></code>, parse the file as lines of JSON objects, each line containing a single object; if false, parse the file as a JSON array containing many objects.</p></li>
<li><p><strong>null_if_absent</strong> – If a <code class="docutils literal notranslate"><span class="pre">true</span></code> and a requested field is absent, will output <code class="docutils literal notranslate"><span class="pre">null</span></code> in its place. If <code class="docutils literal notranslate"><span class="pre">false</span></code> and the requested field is absent, will throw an error.</p></li>
<li><p><strong>prepend_index</strong> – If <code class="docutils literal notranslate"><span class="pre">true</span></code>, row index will be prepended to the columns.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="connectedness-algorithms">
<h2>Connectedness algorithms<a class="headerlink" href="#connectedness-algorithms" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Algo.ConnectedComponents">
<span class="sig-name descname"><span class="pre">ConnectedComponents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.ConnectedComponents" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the <a class="reference external" href="https://en.wikipedia.org/wiki/Connected_component_(graph_theory)">connected components</a> of a graph with the provided edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pairs containing the node index, and its component index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.StronglyConnectedComponent">
<span class="sig-name descname"><span class="pre">StronglyConnectedComponent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.StronglyConnectedComponent" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the <a class="reference external" href="https://en.wikipedia.org/wiki/Strongly_connected_component">strongly connected components</a> of a graph with the provided edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pairs containing the node index, and its component index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.SCC">
<span class="sig-name descname"><span class="pre">SCC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.SCC" title="Permalink to this definition">#</a></dt>
<dd><p>See <a class="reference internal" href="#Algo.StronglyConnectedComponent" title="Algo.StronglyConnectedComponent"><code class="xref py py-func docutils literal notranslate"><span class="pre">Algo.StronglyConnectedComponent</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.MinimumSpanningForestKruskal">
<span class="sig-name descname"><span class="pre">MinimumSpanningForestKruskal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.MinimumSpanningForestKruskal" title="Permalink to this definition">#</a></dt>
<dd><p>Runs <a class="reference external" href="https://en.wikipedia.org/wiki/Kruskal%27s_algorithm">Kruskal’s algorithm</a> on the provided edges to compute a <a class="reference external" href="https://en.wikipedia.org/wiki/Minimum_spanning_tree">minimum spanning forest</a>. Negative weights are fine.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Triples containing the from-node, the to-node, and the cost from the tree root to the to-node. Which nodes are chosen to be the roots are non-deterministic. Multiple roots imply the graph is disconnected.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.MinimumSpanningTreePrim">
<span class="sig-name descname"><span class="pre">MinimumSpanningTreePrim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?],</span> <span class="pre">starting?[idx]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.MinimumSpanningTreePrim" title="Permalink to this definition">#</a></dt>
<dd><p>Runs <a class="reference external" href="https://en.wikipedia.org/wiki/Prim%27s_algorithm">Prim’s algorithm</a> on the provided edges to compute a <a class="reference external" href="https://en.wikipedia.org/wiki/Minimum_spanning_tree">minimum spanning tree</a>. <code class="docutils literal notranslate"><span class="pre">starting</span></code> should be a relation producing exactly one node index as the starting node. Only the connected component of the starting node is returned. If <code class="docutils literal notranslate"><span class="pre">starting</span></code> is omitted, which component is returned is arbitrary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Triples containing the from-node, the to-node, and the cost from the tree root to the to-node.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.TopSort">
<span class="sig-name descname"><span class="pre">TopSort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.TopSort" title="Permalink to this definition">#</a></dt>
<dd><p>Performs <a class="reference external" href="https://en.wikipedia.org/wiki/Topological_sorting">topological sorting</a> on the graph with the provided edges. The graph is required to be connected in the first place.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pairs containing the sort order and the node index.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="pathfinding-algorithms">
<h2>Pathfinding algorithms<a class="headerlink" href="#pathfinding-algorithms" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Algo.ShortestPathBFS">
<span class="sig-name descname"><span class="pre">ShortestPathBFS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to],</span> <span class="pre">starting[start_idx],</span> <span class="pre">goals[goal_idx]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.ShortestPathBFS" title="Permalink to this definition">#</a></dt>
<dd><p>Runs breadth-first search to determine the shortest path between the <code class="docutils literal notranslate"><span class="pre">starting</span></code> nodes and the <code class="docutils literal notranslate"><span class="pre">goals</span></code>.
Assumes the graph to be directed and all edges to be of unit weight.
Ties will be broken in an unspecified way.
If you need anything more complicated, use one of the other algorithms below.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Triples containing the starting node, the goal, and a shortest path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.ShortestPathDijkstra">
<span class="sig-name descname"><span class="pre">ShortestPathDijkstra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?],</span> <span class="pre">starting[idx],</span> <span class="pre">goals[idx],</span> <span class="pre">undirected:</span> <span class="pre">false,</span> <span class="pre">keep_ties:</span> <span class="pre">false</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.ShortestPathDijkstra" title="Permalink to this definition">#</a></dt>
<dd><p>Runs <a class="reference external" href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra’s algorithm</a> to determine the shortest paths between the <code class="docutils literal notranslate"><span class="pre">starting</span></code> nodes and the <code class="docutils literal notranslate"><span class="pre">goals</span></code>. Weights, if given, must be non-negative.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>undirected</strong> – Whether the graph should be interpreted as undirected. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>keep_ties</strong> – Whether to return all paths with the same lowest cost. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>, in which any one path of the lowest cost could be returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>4-tuples containing the starting node, the goal, the lowest cost, and a path with the lowest cost.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.KShortestPathYen">
<span class="sig-name descname"><span class="pre">KShortestPathYen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?],</span> <span class="pre">starting[idx],</span> <span class="pre">goals[idx],</span> <span class="pre">k:</span> <span class="pre">expr,</span> <span class="pre">undirected:</span> <span class="pre">false</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.KShortestPathYen" title="Permalink to this definition">#</a></dt>
<dd><p>Runs <a class="reference external" href="https://en.wikipedia.org/wiki/Yen%27s_algorithm">Yen’s algorithm</a> (backed by Dijkstra’s algorithm) to find the k-shortest paths between nodes in <code class="docutils literal notranslate"><span class="pre">starting</span></code> and nodes in <code class="docutils literal notranslate"><span class="pre">goals</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<em>required</em>) – How many routes to return for each start-goal pair.</p></li>
<li><p><strong>undirected</strong> – Whether the graph should be interpreted as undirected. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>4-tuples containing the starting node, the goal, the cost, and a path with the cost.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.BreadthFirstSearch">
<span class="sig-name descname"><span class="pre">BreadthFirstSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to],</span> <span class="pre">nodes[idx,</span> <span class="pre">...],</span> <span class="pre">starting?[idx],</span> <span class="pre">condition:</span> <span class="pre">expr,</span> <span class="pre">limit:</span> <span class="pre">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.BreadthFirstSearch" title="Permalink to this definition">#</a></dt>
<dd><p>Runs breadth first search on the directed graph with the given edges and nodes, starting at the nodes in <code class="docutils literal notranslate"><span class="pre">starting</span></code>. If <code class="docutils literal notranslate"><span class="pre">starting</span></code> is not given, it will default to all of <code class="docutils literal notranslate"><span class="pre">nodes</span></code>, which may be quite a lot to calculate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>required</em>) – The stopping condition, will be evaluated with the bindings given to <code class="docutils literal notranslate"><span class="pre">nodes</span></code>. Should evaluate to a boolean, with <code class="docutils literal notranslate"><span class="pre">true</span></code> indicating an acceptable answer was found.</p></li>
<li><p><strong>limit</strong> – How many answers to produce for each starting nodes. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Triples containing the starting node, the answer node, and the found path connecting them.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.BFS">
<span class="sig-name descname"><span class="pre">BFS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.BFS" title="Permalink to this definition">#</a></dt>
<dd><p>See <a class="reference internal" href="#Algo.BreadthFirstSearch" title="Algo.BreadthFirstSearch"><code class="xref py py-func docutils literal notranslate"><span class="pre">Algo.BreadthFirstSearch</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.DepthFirstSearch">
<span class="sig-name descname"><span class="pre">DepthFirstSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to],</span> <span class="pre">nodes[idx,</span> <span class="pre">...],</span> <span class="pre">starting?[idx],</span> <span class="pre">condition:</span> <span class="pre">expr,</span> <span class="pre">limit:</span> <span class="pre">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.DepthFirstSearch" title="Permalink to this definition">#</a></dt>
<dd><p>Runs depth first search on the directed graph with the given edges and nodes, starting at the nodes in <code class="docutils literal notranslate"><span class="pre">starting</span></code>. If <code class="docutils literal notranslate"><span class="pre">starting</span></code> is not given, it will default to all of <code class="docutils literal notranslate"><span class="pre">nodes</span></code>, which may be quite a lot to calculate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>required</em>) – The stopping condition, will be evaluated with the bindings given to <code class="docutils literal notranslate"><span class="pre">nodes</span></code>. Should evaluate to a boolean, with <code class="docutils literal notranslate"><span class="pre">true</span></code> indicating an acceptable answer was found.</p></li>
<li><p><strong>limit</strong> – How many answers to produce for each starting nodes. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Triples containing the starting node, the answer node, and the found path connecting them.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.DFS">
<span class="sig-name descname"><span class="pre">DFS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.DFS" title="Permalink to this definition">#</a></dt>
<dd><p>See <a class="reference internal" href="#Algo.DepthFirstSearch" title="Algo.DepthFirstSearch"><code class="xref py py-func docutils literal notranslate"><span class="pre">Algo.DepthFirstSearch</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.ShortestPathAStar">
<span class="sig-name descname"><span class="pre">ShortestPathAStar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight],</span> <span class="pre">nodes[idx,</span> <span class="pre">...],</span> <span class="pre">starting[idx],</span> <span class="pre">goals[idx],</span> <span class="pre">heuristic:</span> <span class="pre">expr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.ShortestPathAStar" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the shortest path from every node in <code class="docutils literal notranslate"><span class="pre">starting</span></code> to every node in <code class="docutils literal notranslate"><span class="pre">goals</span></code> by the <a class="reference external" href="https://en.wikipedia.org/wiki/A*_search_algorithm">A* algorithm</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">edges</span></code> are interpreted as directed, weighted edges with non-negative weights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>heuristic</strong> (<em>required</em>) – The search heuristic expression. It will be evaluated with the bindings from <code class="docutils literal notranslate"><span class="pre">goals</span></code> and <code class="docutils literal notranslate"><span class="pre">nodes</span></code>. It should return a number which is a lower bound of the true shortest distance from a node to the goal node. If the estimate is not a valid lower-bound, i.e. it over-estimates, the results returned may not be correct.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>4-tuples containing the starting node index, the goal node index, the lowest cost, and a path with the lowest cost.</p>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The performance of A* star algorithm heavily depends on how good your heuristic function is. Passing in <code class="docutils literal notranslate"><span class="pre">0</span></code> as the estimate is always valid, but then you really should be using Dijkstra’s algorithm.</p>
<p>Good heuristics usually come about from a metric in the ambient space in which your data live, e.g. spherical distance on the surface of a sphere, or Manhattan distance on a grid. <a class="reference internal" href="functions.html#Func.Math.haversine_deg_input" title="Func.Math.haversine_deg_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">Func.Math.haversine_deg_input</span></code></a> could be helpful for the spherical case. Note that you must use the correct units for the distance.</p>
<p>Providing a heuristic that is not guaranteed to be a lower-bound <em>might</em> be acceptable if you are fine with inaccuracies. The errors in the answers are bound by the sum of the margins of your over-estimates.</p>
</div>
</dd></dl>

</section>
<section id="community-detection-algorithms">
<h2>Community detection algorithms<a class="headerlink" href="#community-detection-algorithms" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Algo.ClusteringCoefficients">
<span class="sig-name descname"><span class="pre">ClusteringCoefficients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.ClusteringCoefficients" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the <a class="reference external" href="https://en.wikipedia.org/wiki/Clustering_coefficient">clustering coefficients</a> of the graph with the provided edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>4-tuples containing the node index, the clustering coefficient, the number of triangles attached to the node, and the total degree of the node.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.CommunityDetectionLouvain">
<span class="sig-name descname"><span class="pre">CommunityDetectionLouvain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?],</span> <span class="pre">undirected:</span> <span class="pre">false,</span> <span class="pre">max_iter:</span> <span class="pre">10,</span> <span class="pre">delta:</span> <span class="pre">0.0001,</span> <span class="pre">keep_depth?:</span> <span class="pre">depth</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.CommunityDetectionLouvain" title="Permalink to this definition">#</a></dt>
<dd><p>Runs the <a class="reference external" href="https://en.wikipedia.org/wiki/Louvain_method">Louvain algorithm</a> on the graph with the provided edges, optionally non-negatively weighted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>undirected</strong> – Whether the graph should be interpreted as undirected. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>max_iter</strong> – The maximum number of iterations to run within each epoch of the algorithm. Defaults to 10.</p></li>
<li><p><strong>delta</strong> – How much the <a class="reference external" href="https://en.wikipedia.org/wiki/Modularity_(networks)">modularity</a> has to change before a step in the algorithm is considered to be an improvement.</p></li>
<li><p><strong>keep_depth</strong> – How many levels in the hierarchy of communities to keep in the final result. If omitted, all levels are kept.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pairs containing the label for a community, and a node index belonging to the community. Each label is a list of integers with maximum length constrained by the parameter <code class="docutils literal notranslate"><span class="pre">keep_depth</span></code>.  This list represents the hierarchy of sub-communities containing the list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.LabelPropagation">
<span class="sig-name descname"><span class="pre">LabelPropagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?],</span> <span class="pre">undirected:</span> <span class="pre">false,</span> <span class="pre">max_iter:</span> <span class="pre">10</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.LabelPropagation" title="Permalink to this definition">#</a></dt>
<dd><p>Runs the <a class="reference external" href="https://en.wikipedia.org/wiki/Label_propagation_algorithm">label propagation algorithm</a> on the graph with the provided edges, optionally weighted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>undirected</strong> – Whether the graph should be interpreted as undirected. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>max_iter</strong> – The maximum number of iterations to run. Defaults to 10.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pairs containing the integer label for a community, and a node index belonging to the community.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="centrality-measures">
<h2>Centrality measures<a class="headerlink" href="#centrality-measures" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Algo.DegreeCentrality">
<span class="sig-name descname"><span class="pre">DegreeCentrality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.DegreeCentrality" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the degree centrality of the nodes in the graph with the given edges. The computation is trivial, so this should be your first thing to try when exploring new data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>4-tuples containing the node index, the total degree (how many edges involve this node), the out-degree (how many edges point away from this node), and the in-degree (how many edges point to this node).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.PageRank">
<span class="sig-name descname"><span class="pre">PageRank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?],</span> <span class="pre">undirected:</span> <span class="pre">false,</span> <span class="pre">theta:</span> <span class="pre">0.85,</span> <span class="pre">epsilon:</span> <span class="pre">0.0001,</span> <span class="pre">iterations:</span> <span class="pre">10</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.PageRank" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the <a class="reference external" href="https://en.wikipedia.org/wiki/PageRank">PageRank</a> from the given graph with the provided edges, optionally weighted.</p>
<p>This algorithm is implemented differently if the <cite>rayon</cite> is not enabled, in which case it runs much slower. This affects only the WASM platform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>undirected</strong> – Whether the graph should be interpreted as undirected. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>theta</strong> – A number between 0 and 1 indicating how much weight in the PageRank matrix is due to the explicit edges. A number of 1 indicates no random restarts. Defaults to 0.8.</p></li>
<li><p><strong>epsilon</strong> – Minimum PageRank change in any node for an iteration to be considered an improvement. Defaults to 0.05.</p></li>
<li><p><strong>iterations</strong> – How many iterations to run. Fewer iterations are run if convergence is reached. Defaults to 20.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pairs containing the node label and its PageRank. For a graph with uniform edges, the PageRank of every node is 1. The <a class="reference external" href="https://en.wikipedia.org/wiki/Norm_(mathematics)">L2-norm</a> of the results is forced to be invariant, i.e. in the results those nodes with a PageRank greater than 1 is “more central” than the average node in a certain sense.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.ClosenessCentrality">
<span class="sig-name descname"><span class="pre">ClosenessCentrality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?],</span> <span class="pre">undirected:</span> <span class="pre">false</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.ClosenessCentrality" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the <a class="reference external" href="https://en.wikipedia.org/wiki/Closeness_centrality">closeness centrality</a> of the graph. The input relation represent edges connecting node indices which are optionally weighted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>undirected</strong> – Whether the edges should be interpreted as undirected. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Node index together with its centrality.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Algo.BetweennessCentrality">
<span class="sig-name descname"><span class="pre">BetweennessCentrality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">weight?],</span> <span class="pre">undirected:</span> <span class="pre">false</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.BetweennessCentrality" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the <a class="reference external" href="https://en.wikipedia.org/wiki/Betweenness_centrality">betweenness centrality</a> of the graph. The input relation represent edges connecting node indices which are optionally weighted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>undirected</strong> – Whether the edges should be interpreted as undirected. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Node index together with its centrality.</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">BetweennessCentrality</span></code> is very expensive for medium to large graphs. If possible, collapse large graphs into supergraphs by running a community detection algorithm first.</p>
</div>
</dd></dl>

</section>
<section id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Algo.RandomWalk">
<span class="sig-name descname"><span class="pre">RandomWalk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">edges[from,</span> <span class="pre">to,</span> <span class="pre">...],</span> <span class="pre">nodes[idx,</span> <span class="pre">...],</span> <span class="pre">starting[idx],</span> <span class="pre">steps:</span> <span class="pre">10,</span> <span class="pre">weight?:</span> <span class="pre">expr,</span> <span class="pre">iterations:</span> <span class="pre">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Algo.RandomWalk" title="Permalink to this definition">#</a></dt>
<dd><p>Performs random walk on the graph with the provided edges and nodes, starting at the nodes in <code class="docutils literal notranslate"><span class="pre">starting</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>steps</strong> (<em>required</em>) – How many steps to walk for each node in <code class="docutils literal notranslate"><span class="pre">starting</span></code>. Produced paths may be shorter if dead ends are reached.</p></li>
<li><p><strong>weight</strong> – An expression evaluated against bindings of <code class="docutils literal notranslate"><span class="pre">nodes</span></code> and bindings of <code class="docutils literal notranslate"><span class="pre">edges</span></code>, at a time when the walk is at a node and choosing between multiple edges to follow. It should evaluate to a non-negative number indicating the weight of the given choice of edge to follow. If omitted, which edge to follow is chosen uniformly.</p></li>
<li><p><strong>iterations</strong> – How many times walking is repeated for each starting node.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Triples containing a numerical index for the walk, the starting node, and the path followed.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="nonscript.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Beyond CozoScript</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="aggregations.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Aggregations</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Ziyang Hu
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Utilities and algorithms</a><ul>
<li><a class="reference internal" href="#utilities">Utilities</a></li>
<li><a class="reference internal" href="#connectedness-algorithms">Connectedness algorithms</a></li>
<li><a class="reference internal" href="#pathfinding-algorithms">Pathfinding algorithms</a></li>
<li><a class="reference internal" href="#community-detection-algorithms">Community detection algorithms</a></li>
<li><a class="reference internal" href="#centrality-measures">Centrality measures</a></li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>